"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),r=require("react"),t=require("three"),n=require("react-merge-refs"),u=require("three-stdlib"),a=require("@react-three/fiber");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var c=o(e),s=l(r),f=o(n);const i=s.createContext(null),d=s.forwardRef((({resolution:e=28,maxPolyCount:r=1e4,enableUvs:n=!1,enableColors:o=!1,children:l,...d},b)=>{const m=s.useRef(null),p=s.useMemo((()=>new u.MarchingCubes(e,new t.MeshStandardMaterial,n,o,r)),[e,r,n,o]),g=s.useMemo((()=>({getParent:()=>m})),[]);return a.useFrame((()=>{p.reset()}),-1),s.createElement(s.Fragment,null,s.createElement("primitive",c.default({object:p,ref:f.default([m,b])},d),s.createElement(i.Provider,{value:g},l)))})),b=s.forwardRef((({strength:e=.5,subtract:r=12,color:n=new t.Color("#fff"),...u},o)=>{const{getParent:l}=s.useContext(i),d=s.useMemo((()=>l()),[l]),b=s.useRef();return a.useFrame((()=>{d.current&&b.current&&d.current.addBall(b.current.position.x,b.current.position.y,b.current.position.z,e,r,n)})),s.createElement("group",c.default({ref:f.default([o,b])},u))})),m=s.forwardRef((({planeType:e="x",strength:r=.5,subtract:t=12,...n},u)=>{const{getParent:o}=s.useContext(i),l=s.useMemo((()=>o()),[o]),d=s.useRef(),b=s.useMemo((()=>"x"===e?"addPlaneX":"y"===e?"addPlaneY":"addPlaneZ"),[e]);return a.useFrame((()=>{l.current&&d.current&&l.current[b](r,t)})),s.createElement("group",c.default({ref:f.default([u,d])},n))}));exports.MarchingCube=b,exports.MarchingCubes=d,exports.MarchingPlane=m;
